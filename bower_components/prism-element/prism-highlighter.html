<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="prism-import.html"><script>(function(){'use strict';var a='syntax-highlight';Polymer({is:'prism-highlighter',properties:{languages:{type:Object,value:function(){return{}}}},ready:function(){this._handler=this._highlight.bind(this)},attached:function(){(this.parentNode.host||this.parentElement).addEventListener(a,this._handler)},detached:function(){(this.parentNode.host||this.parentElement).removeEventListener(a,this._handler)},_highlight:function(b){if(!b.detail||!b.detail.code)return void Polymer.Base._warn('Malformed',a,'event:',b.detail);b.stopPropagation();var c=b.detail;c.code=Prism.highlight(c.code,this._detectLang(c.code,c.lang))},_detectLang:function(b,c){if(!c)return b.match(/^\s*</)?Prism.languages.markup:Prism.languages.javascript;if(this.languages[c])return this.languages[c];if(Prism.languages[c])return Prism.languages[c];switch(c.substr(0,2)){case'js':case'es':return Prism.languages.javascript;case'c':return Prism.languages.clike;default:return Prism.languages.markup;}}})})();</script></head><body></body></html>